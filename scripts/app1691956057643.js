var _banano_sithasodaisypocketbasesync=new banano_sithasodaisypocketbasesync();var _banano_sithasodaisy_sduishared=new banano_sithasodaisy_sduishared();var _banano_sithasodaisypocketbasesync_modsdpb=new banano_sithasodaisypocketbasesync_modsdpb();var _banano_sithasodaisypocketbasesync_pgindex=new banano_sithasodaisypocketbasesync_pgindex();var _banano_sithasodaisypocketbasesync_pgsync=new banano_sithasodaisypocketbasesync_pgsync();
/* App */
function banano_sithasodaisypocketbasesync_modsdpb() {var _B;this.__421="http://127.0.0.1:8090";}function banano_sithasodaisypocketbasesync_pgindex() {var _B;this._app= new banano_sithasodaisy_sduiapp();this.__428="";this.initialize=async function() {if (_B==null) _B=this;var __859;_B._app.addapp(_B,_banano_sithasodaisypocketbasesync.__434);await _B._app.usesjquery();await _B._app.usespocketbase();await _B._app.usesformtojson();await _B._app.usestable();await _B._app.usessignaturepad();_B._app.setfont("font-sans");this.baselayout(_B._app.gethere());_B.__428="" + _banano_sithasodaisypocketbasesync.__434 + "_theme";__859=localStorage.getItem(_B.__428);__859=_banano_sithasodaisy_sduishared.cstr(__859);switch ("" + __859) {case "" + "":case "" + _B._app.__123:_B._app.settheme(_B._app.__123);_B.__424.setchecked(false);break;case "" + _B._app.__124:_B.__424.setchecked(true);_B._app.settheme(_B._app.__124);break;}_B.__423._app=_B._app;_B.__422.settitlecaption(_banano_sithasodaisypocketbasesync.__435);_B.createdrawermenu(_B);_B.addpages(_B);_B.isauthenticated(true,_B);_B.updateusername("Anele 'Mashy' Mbanga",_B);_B.updateuseravatar("./assets/mashy.jpg",_B);_B._app.pageresume();_banano_sithasodaisypocketbasesync_pgsync.show(_B._app);};this.addpages=function() {if (_B==null) _B=this;};this.createdrawermenu=function() {if (_B==null) _B=this;_B.__423.clear("");_B.__423.additempage(_banano_sithasodaisypocketbasesync_pgsync);};this.appdrawer_menu_click=function(_item) {if (_B==null) _B=this;_B.__423.close();if (_B._app.showpage(_item)) { return ;}};this.appnavbar_menu_click=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.showswal("Menu Click!");};this.btnlogoff_click=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B.isauthenticated(false,_B);};this.isauthenticated=function(_b) {if (_B==null) _B=this;if (_b) {_B.__423.show();_B.__423.adjustclippedleft(true);_B.__422.show();} else {_B.__423.adjustclippedleft(false);_B.__423.hide();_B.__422.hide();}};this.updateusername=function(_s) {if (_B==null) _B=this;_B.__426.setcaption(_s);};this.updateuseravatar=function(_s) {if (_B==null) _B=this;_B.__427.setsrc(_s);};this.swaptheme_change=function(__85b) {if (_B==null) _B=this;switch ("" + __85b) {case "" + true:_B._app.settheme(_B._app.__124);localStorage.setItem(_B.__428,_B._app.__124);break;case "" + false:_B._app.settheme(_B._app.__123);localStorage.setItem(_B.__428,_B._app.__123);break;}};this.baselayout=function(Par) {_B.__422=BANC( banano_sithasodaisy_sduinavbar,_B, "appnavbar", "appnavbar",u(Par), {"AvatarSize": "12","BgColor": "blue","BgColorIntensity": "500","Fixed": true,"HasHamburger": true,"HasHamburgerOnSmallOnly": false,"HasHamburgerToggles": "appdrawer","HasLogo": true,"HasMenuButton": false,"HasSpacer": true,"LogoHeight": "","LogoIsAvatar": true,"LogoLazy": false,"LogoShape": "squircle","LogoURL": "./assets/600by600.jpg","LogoWidth": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "body","RawAttributes": "","RawClasses": "","RawStyles": "","RoundedBox": false,"Shadow": true,"TextColor": "white","TextColorIntensity": "","Title": "Sithaso Drawer","Visible": true,"B4XLeft": 0,"B4XTop": 0,"B4XWidth": 600,"B4XHeight": 70,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__426=BANC( banano_sithasodaisy_sduilabel,_B, "lblusername", "lblusername",u('#appnavbar'), {"BgColor": "","BgColorIntensity": "","Caption": "{{username}}","CustomTag": "","DecorationColor": "","DecorationColorIntensity": "","DecorationStyle": "none","FontWeight": "none","ForE": "","Italic": false,"LoremIpsum": false,"MarginAXYTBLR": "a=?; x=2; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","Raw": "","RawAttributes": "","RawClasses": "","RawStyles": "","Size": "p","TextAlign": "none","TextColor": "","TextColorIntensity": "","TextDecoration": "none","TextOverflow": "none","TextSize": "","TextTransform": "none","VerticalAlign": "none","Visible": true,"WhiteSpace": "none","WordBreak": "none","B4XLeft": 310,"B4XTop": 10,"B4XWidth": 100,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__427=BANC( banano_sithasodaisy_sduiavatar,_B, "useravatar", "useravatar",u('#appnavbar'), {"AvatarGroup": false,"BadgeColor": "none","BadgeOutline": false,"BadgeValue": "","BadgeVisible": false,"BgColor": "","BgColorIntensity": "","ImageUrl": "./assets/daisywoman1.jpg","LazyLoad": true,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=2","OnlineColor": "","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","PlaceHolder": "","RawAttributes": "","RawClasses": "","RawStyles": "","Ring": false,"RingColor": "","RingColorIntensity": "","RingOffset": "","RingOffsetColor": "","RingOffsetColorIntensity": "","Shadow": false,"Shape": "circle","Size": "10","Status": "none","TextColor": "","TextColorIntensity": "","TextSize": "","Visible": true,"B4XLeft": 420,"B4XTop": 10,"B4XWidth": 50,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__424=BANC( banano_sithasodaisy_sduiswap,_B, "swaptheme", "swaptheme",u('#appnavbar'), {"BgColor": "","BgColorIntensity": "","Effect": "rotate","InputType": "icon","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=2","OffValue": "fa-regular fa-moon","OnValue": "fa-solid fa-moon","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","RawAttributes": "","RawClasses": "","RawStyles": "","Size": "3xl","Visible": true,"B4XLeft": 480,"B4XTop": 10,"B4XWidth": 50,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__425=BANC( banano_sithasodaisy_sduibutton,_B, "btnlogoff", "btnlogoff",u('#appnavbar'), {"Active": false,"Badge": "","BadgeColor": "secondary","BadgeOutline": false,"BadgeVisible": false,"BgColor": "","BgColorIntensity": "","Block": false,"ButtonType": "button-icon","Caption": "Button","Disabled": false,"IconName": "fa-solid fa-power-off","IsTemplate": false,"Loading": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=2","NoAnimation": false,"NoIcons": false,"NormalCase": false,"Outline": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","RawAttributes": "","RawClasses": "","RawStyles": "","RightIcon": "","Shadow": false,"Shape": "circle","Size": "sm","TextColor": "white","TextColorIntensity": "","Variant": "error","Visible": false,"Wide": false,"B4XLeft": 540,"B4XTop": 10,"B4XWidth": 50,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__423=BANC( banano_sithasodaisy_sduidrawer,_B, "appdrawer", "appdrawer",u(Par), {"AtRight": false,"BgColor": "","BgColorIntensity": "","ClippedLeft": true,"HasBottomNav": false,"HasFooter": false,"HasNavbar": false,"Height": "full","ItemActiveColor": "blue","ItemActiveColorIntensity": "100","ItemColor": "blue","ItemColorIntensity": "100","ItemFocusColor": "blue","ItemFocusColorIntensity": "100","ItemHoverColor": "blue","ItemHoverColorIntensity": "100","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","Mobile": false,"OverlayTransparent": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageViewFullHeight": true,"PageViewFullWidth": true,"ParentID": "body","RawAttributes": "","RawClasses": "","RawStyles": "","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "80","B4XLeft": 0,"B4XTop": 70,"B4XWidth": 190,"B4XHeight": 530,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sithasodaisypocketbasesync_pgsync() {var _B;this.__f7="sync";this.__e7="Sync PocketBase";this.__50="fa-solid fa-swatchbook";this._app= new banano_sithasodaisy_sduiapp();this.__431=[];this.__432=[];this.__433={};this.show=function(__85a) {if (_B==null) _B=this;_B._app=__85a;_B.buildpage(_B);};this.getname=function() {if (_B==null) _B=this;return _B.__f7;};this.geticon=function() {if (_B==null) _B=this;return _B.__50;};this.gettitle=function() {if (_B==null) _B=this;return _B.__e7;};this.buildpage=async function() {if (_B==null) _B=this;var __85d,_bag,__85f;this.synclayout(_B._app.__f4);_B.__42a.settitle("Source");await _B.__42a.loadpropertybagfromjson("./assets/source.json");_B.__42a.setpropertyvisible("doschema",false);_B.__42a.setpropertyvisible("dodata",false);_B.__42a.addtoolbaractionbuttonicon("btnDownload","fa-solid fa-download","#f6abb6");_B.__42a.settoolbarbuttonenable("btnDownload",false);_B.__42a.settoolbarbuttontooltip("savesingle","Extract Source Database Schema","primary","left",true);_B.__42a.settoolbarbuttontooltip("btnDownload","Download Source Database Schema","primary","left",true);_B.__42a.setpropertypadding("py-2");_B.__42a.setpropertybagdefaults();_B.__42a.settoolbarbuttonbadgeround("savesingle");_B.__42a.settoolbarbuttonbadge("savesingle",0);_B.__42a.setpropertyvalue("url","http://127.0.0.1:8090");__85d=localStorage.getItem("sdpocketbasesyncsource");__85d=_banano_sithasodaisy_sduishared.cstr(__85d);if (__85d!="") {_bag=JSON.parse(__85d);_B.__42a.setpropertybag(_bag);}_B.__42f.settitle("Target");await _B.__42f.loadpropertybagfromjson("./assets/target.json");_B.__42f.setpropertyvisible("doschema",false);_B.__42f.setpropertyvisible("dodata",false);_B.__42f.settoolbarbuttontooltip("savesingle","Extract Target Database Schema","primary","left",true);_B.__42f.setpropertypadding("py-2");_B.__42f.setpropertybagdefaults();_B.__42f.settoolbarbuttonbadgeround("savesingle");_B.__42f.settoolbarbuttonbadge("savesingle",0);_B.__42f.setpropertyvalue("url","https://sourceDB.pockethost.io");__85f=localStorage.getItem("sdpocketbasesynctarget");__85f=_banano_sithasodaisy_sduishared.cstr(__85f);if (__85f!="") {_bag=JSON.parse(__85f);_B.__42f.setpropertybag(_bag);}_B.__430.addtoolbaractionbuttonicon("btnAllSchema","fa-regular fa-square-check","#f6abb6");_B.__430.addtoolbaractionbuttonicon("btnAllData","fa-regular fa-circle-check","#005b96");_B.__430.settoolbarbuttonenable("btnAllSchema",false);_B.__430.settoolbarbuttonenable("btnAllData",false);_B.__430.settoolbarbuttontooltip("btnAllSchema","Check all collection schemas","primary","left",true);_B.__430.settoolbarbuttontooltip("btnAllData","Check all collection data","primary","left",true);_B.__430.settoolbarbuttontooltip("savesingle","Sync selected Schema & Data","primary","left",true);_B.__430.addcolumn("name","Name");_B.__430.setcolumncomputecolor("name","ComputeNameColor");_B.__430.addcolumn("typeof","Type Of");_B.__430.addcolumn("stfields","Source Fields");_B.__430.setcolumncomputecolor("stfields","ComputeTextColor");_B.__430.addcolumn("ttfields","Target Fields");_B.__430.setcolumncomputecolor("ttfields","ComputeTextColor");_B.__430.addcolumn("records","Records");_B.__430.addcolumn("written","Synced");_B.__430.addcolumncheckbox("active","Schema",_B._app.__ab,false);_B.__430.addcolumncheckbox("activedata","Data",_B._app.__ab,false);};this.pbsource_btndownload=function(_e) {if (_B==null) _B=this;var __860,_collection,__4ad,__4ae;_e.preventDefault();__860=[];__860.length=0;for (_collectionKEY in _B.__433) {var _collection=_B.__433[_collectionKEY];__860.push(_collection);}__4ad=JSON.stringify(__860);__4ae="source_schema.json";_banano_sithasodaisy_sduishared.download(__4ad,__4ae);};this.computenamecolor=function(_item) {if (_B==null) _B=this;var __861;__861=_item["status"];switch ("" + __861) {case "" + "match":return "#00FF00";case "" + "insource":return "#FF0000";case "" + "intarget":return "#FFA500";}};this.computetextcolor=function(_item) {if (_B==null) _B=this;var __862,__863;__862=_item["stfields"];__863=_item["ttfields"];if (__863==__862) {return "#00FF00";} else {return "#FF0000";}};this.pbsource_savesingle=async function(_e) {if (_B==null) _B=this;var __864,_bag,_surl,__49a,__49b,__299,__865,__866,_spb,__4a0,_rec,__4ac,__868;_e.preventDefault();__864=_B.__42a.ispropertybagvalid();if (__864==false) {_B._app.showswalerrortoast("Please specify all required information for the Source Database!",1000);return;}_bag=_B.__42a.getpropertybag();_surl=_bag["url"];__49a=_bag["email"];__49b=_bag["password"];__299=_bag["prefix"];__865=_banano_sithasodaisy_sduishared.cbool(_bag["doschema"]);__866=_banano_sithasodaisy_sduishared.cbool(_bag["dodata"]);localStorage.setItem("sdpocketbasesyncsource",JSON.stringify(_bag));_B._app.pagepause();_spb= new banano_sithasodaisypocketbase_sduipocketbase();_spb.initialize(_B,"source",_surl,"");await _spb.admin_auth_with_password(__49a,__49b);__4a0=_spb._userprofile;if (__4a0.__fd==0) {_B._app.pageresume();_B._app.showswalerror("The connection paramaters are invalid!");return;}_B.__431.length=0;await _spb.select_all_collections();if (__299!="") {while (_spb.nextrow()) {_rec=_spb.__17;__4ac=_spb.getstring("name");if (__4ac.startsWith(__299)) {_B.__431.push(_rec);}}} else {_B.__431=_spb.__18;}_B.__42a.settoolbarbuttonbadge("savesingle",_B.__431.length);__868=JSON.stringify(_B.__431);localStorage.setItem("sdsync_source",__868);_B._app.pageresume();_B._app.showswalinfotoast("Source Database has " + _B.__431.length + " collections!",2000);};this.pbsource_changepropertybag=function(_item) {if (_B==null) _B=this;};this.sourcetree_selectnode=function(_id) {if (_B==null) _B=this;};this.targettree_selectnode=function(_id) {if (_B==null) _B=this;};this.pbtarget_savesingle=async function(_e) {if (_B==null) _B=this;var __864,_bag,_surl,__49a,__49b,__299,__865,__866,_spb,__4a0,_rec,__4ac,__869;_e.preventDefault();__864=_B.__42f.ispropertybagvalid();if (__864==false) {_B._app.showswalerrortoast("Please specify all required information fo the Target Database!",1000);return;}_B.__42a.settoolbarbuttonenable("btnDownload",true);_B.__430.settoolbarbuttonenable("btnAllSchema",true);_B.__430.settoolbarbuttonenable("btnAllData",true);_bag=_B.__42f.getpropertybag();_surl=_bag["url"];__49a=_bag["email"];__49b=_bag["password"];__299=_bag["prefix"];__865=_banano_sithasodaisy_sduishared.cbool(_bag["doschema"]);__866=_banano_sithasodaisy_sduishared.cbool(_bag["dodata"]);localStorage.setItem("sdpocketbasesynctarget",JSON.stringify(_bag));_B._app.pagepause();_spb= new banano_sithasodaisypocketbase_sduipocketbase();_spb.initialize(_B,"target",_surl,"");await _spb.admin_auth_with_password(__49a,__49b);__4a0=_spb._userprofile;if (__4a0.__fd==0) {_B._app.pageresume();_B._app.showswalerror("The connection paramaters are invalid!");return;}_B.__432.length=0;await _spb.select_all_collections();if (__299!="") {while (_spb.nextrow()) {_rec=_spb.__17;__4ac=_spb.getstring("name");if (__4ac.startsWith(__299)) {_B.__432.push(_rec);}}} else {_B.__432=_spb.__18;}_B.__42f.settoolbarbuttonbadge("savesingle",_B.__432.length);__869=JSON.stringify(_B.__432);localStorage.setItem("sdsync_target",__869);_B._app.pageresume();_B._app.showswalinfotoast("Target Database has " + _B.__432.length + " collections!",2000);await _B.loadsoucetables(_B);};this.loadsoucetables=async function() {if (_B==null) _B=this;var _tcol,_col1,_sid1,__86c,__86d,__86e,__86f,_col,_sid,__4a4,__870,__3f1,_ftot,_nrow,__16f,_item;_B._app.pagepause();_B.__430.clearrows();_B.__433={};_tcol={};for (var _col1index=0;_col1index<_B.__431.length;_col1index++) {_col1=_B.__431[_col1index];_sid1=_col1["id"];__86c=_col1["name"];__86d=_col1["schema"];__86e=_col1["type"];__86f={};__86f["id"]=_sid1;__86f["name"]=__86c;__86f["typeof"]=__86e;__86f["sfields"]=__86d;__86f["stfields"]=__86d.length;__86f["records"]=0;__86f["written"]=0;__86f["active"]=true;__86f["activedata"]=true;__86f["status"]="insource";_tcol[__86c]=__86f;_B.__433[__86c]=_col1;}for (var _colindex=0;_colindex<_B.__432.length;_colindex++) {_col=_B.__432[_colindex];_sid=_col["id"];__4a4=_col["name"];__870=_col["schema"];__3f1=_col["type"];_ftot=__870.length;_nrow={};if ((__4a4 in _tcol)) {_nrow=_tcol[__4a4];_nrow["status"]="match";_nrow["tfields"]=__870;_nrow["ttfields"]=__870.length;_nrow["active"]=false;_nrow["activedata"]=false;if (_nrow["stfields"]!=_nrow["ttfields"]) {_nrow["active"]=true;}_tcol[__4a4]=_nrow;} else {_nrow["id"]=_sid;_nrow["name"]=__4a4;_nrow["typeof"]=__3f1;__86f["tfields"]=__870;__86f["ttfields"]=__870.length;__86f["records"]=0;__86f["written"]=0;__86f["active"]=false;__86f["activedata"]=false;__86f["status"]="intarget";_tcol[__86c]=__86f;}}__16f=[];__16f.length=0;for (_itemKEY in _tcol) {var _item=_tcol[_itemKEY];__16f.push(_item);}await _B.__430.setitems(__16f);_B._app.pageresume();};this.pbsource_password_append_click=function(__4bf) {if (_B==null) _B=this;__4bf.preventDefault();_B.__42a.setpropertytoggleeyes("password");};this.pbtarget_password_append_click=function(__4bf) {if (_B==null) _B=this;__4bf.preventDefault();_B.__42f.setpropertytoggleeyes("password");};this.tblcollections_changerow=function(_row,__e6,__5ff,_item) {if (_B==null) _B=this;_item[__5ff]=__e6;_B.__430.updaterow(_row,_item);};this.tblcollections_btnallschema=function(_e) {if (_B==null) _B=this;var _rows,_rtot,_rcnt;_e.preventDefault();_B._app.pagepause();_rows=_B.__430._rows;_rtot=_rows.length-1;_rcnt=0;for (_rcnt=0;_rcnt<=_rtot;_rcnt++) {_B.__430.setrowcolumn("active",_rcnt,true);}_B._app.pageresume();};this.tblcollections_btnalldata=function(_e) {if (_B==null) _B=this;var _rows,_rtot,_rcnt;_e.preventDefault();_B._app.pagepause();_rows=_B.__430._rows;_rtot=_rows.length-1;_rcnt=0;for (_rcnt=0;_rcnt<=_rtot;_rcnt++) {_B.__430.setrowcolumn("activedata",_rcnt,true);}_B._app.pageresume();};this.tblcollections_savesingle=async function(_e) {if (_B==null) _B=this;var __873,__874,__875,__876,__877,__878,_bag,_surl,__49a,__49b,_rows,_rtot,_rcnt,_col,__15f,__879,__87a,__4a4,__615,_coll,__49f,__18,_tpb,__87d,_tkey,_recs,__87e,__87f,_rec,_nid,_rpos;_e.preventDefault();_B._app.pagepause();__873=[];__873.length=0;__874=[];__874.length=0;__875={};__876={};__877=_B.__42a.getpropertyvalue("url");__878=_B.__42f.getpropertyvalue("url");_bag=_B.__42f.getpropertybag();_surl=_bag["url"];__49a=_bag["email"];__49b=_bag["password"];_rows=_B.__430._rows;_rtot=_rows.length-1;_rcnt=0;for (_rcnt=0;_rcnt<=_rtot;_rcnt++) {_col=_rows[_rcnt];__15f=_col["status"];__879=_banano_sithasodaisy_sduishared.cbool(_col["active"]);__87a=_banano_sithasodaisy_sduishared.cbool(_col["activedata"]);__4a4=_col["name"];__615=_col["typeof"];switch ("" + __15f) {case "" + "match":if (__879) {_coll=_B.__433[__4a4];__874.push(_coll);}if (__87a && __615!="view") {__49f= new banano_sithasodaisypocketbase_sduipocketbase();__49f.initialize(_B,"sourceDB",__877,__4a4);await __49f.select_all();__18=__49f.__18;__875[__4a4]=__18;await _B.__430.setrowcolumn("records",_rcnt,_banano_sithasodaisy_sduishared.thousands(__18.length));__876[__4a4]="";}break;case "" + "insource":if (__879) {_coll=_B.__433[__4a4];__873.push(_coll);}if (__87a && __615!="view") {__49f= new banano_sithasodaisypocketbase_sduipocketbase();__49f.initialize(_B,"sourceDB",__877,__4a4);await __49f.select_all();__18=__49f.__18;__875[__4a4]=__18;await _B.__430.setrowcolumn("records",_rcnt,_banano_sithasodaisy_sduishared.thousands(__18.length));}break;}}if (__873.length>0) {_B._app.showswalinfotoast("" + __873.length + " collections will be added!",2000);_tpb= new banano_sithasodaisypocketbase_sduipocketbase();_tpb.initialize(_B,"target",_surl,"");__87d=await _tpb.schemaadd(_surl,__49a,__49b,__873);if (__87d) {_B._app.showswalsuccesstoast("The schema for the new collections was created successfully!",2000);} else {_B._app.showswalerrortoast("The schema for the new collections was NOT created successfully!",2000);}}if (__874.length>0) {_B._app.showswalinfotoast("" + __874.length + " collections will be updated!",2000);_tpb= new banano_sithasodaisypocketbase_sduipocketbase();_tpb.initialize(_B,"target",_surl,"");__87d=await _tpb.schemaupdate(_surl,__49a,__49b,__874);if (__87d) {_B._app.showswalsuccesstoast("The schema for the existing collections was updated successfully!",2000);} else {_B._app.showswalerrortoast("The schema for the existing collections was NOT updated successfully!",2000);}}var _tkeyKeys = Object.keys(__875);for (var _tkeyindex=0;_tkeyindex<_tkeyKeys.length;_tkeyindex++) {_tkey=_tkeyKeys[_tkeyindex];_B.__430.settitle("Collections: Processing " + _tkey + "...");_recs=__875[_tkey];__87e= new banano_sithasodaisypocketbase_sduipocketbase();__87e.initialize(_B,"targetDB",__878,_tkey);await __49f.admin_auth_with_password(__49a,__49b);__87f=[];__87f.length=0;if ((_tkey in __876)) {for (var _recindex=0;_recindex<_recs.length;_recindex++) {_rec=_recs[_recindex];_rec=__87e.getrealrecord(_rec);__87e.setrecordasis(_rec);_nid=await __87e.create_or_update();if (_nid!="") {__87f.push(_nid);_rpos=await _B.__430.findrowbycolumn("name",_tkey);await _B.__430.setrowcolumn("written",_rpos,_banano_sithasodaisy_sduishared.thousands(__87f.length));}}} else {for (var _recindex=0;_recindex<_recs.length;_recindex++) {_rec=_recs[_recindex];_rec=__87e.getrealrecord(_rec);__87e.setrecordasis(_rec);_nid=await __87e.create();if (_nid!="") {__87f.push(_nid);_rpos=await _B.__430.findrowbycolumn("name",_tkey);await _B.__430.setrowcolumn("written",_rpos,_banano_sithasodaisy_sduishared.thousands(__87f.length));}}}}_B.__430.settitle("Collections");_B._app.pageresume();};this.synclayout=function(Par) {u(Par).empty();_B._page=BANC( banano_sithasodaisy_sduipage,_B, "page", "page",u(Par), {"BackgroundImage": "","BgColor": "","BgColorIntensity": "","ColSpan": "","Container": false,"DeviceGridCols": "xs=?; sm=?; md=?; lg=?; xl=?","Flex": false,"Flex1": false,"FlexCol": false,"FlexNone": false,"FlexRow": true,"FlexWrap": false,"FullPage": false,"Gap": "","Grid": true,"GridCols": "1","GridRows": "","H": "","HFull": false,"Justify": "none","JustifyItems": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MaxH": "","MaxW": "","MinH": "","MinW": "","MxAuto": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageName": "sync","ParentID": "pageview","Raw": "","RawAttributes": "","RawClasses": "","RawDescription": "My SDUIPage","RawKeywords": "page","RawStyles": "","RowSpan": "","Title": "My SDUIPage","Visible": true,"W": "","WFull": false,"B4XLeft": 0,"B4XTop": 0,"B4XWidth": 600,"B4XHeight": 600,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__42e=BANC( banano_sithasodaisy_sduirow,_B, "sduirow1", "sduirow1",u('#page'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Columns": "","Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "sync","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 10,"B4XTop": 10,"B4XWidth": 580,"B4XHeight": 120,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__42b=BANC( banano_sithasodaisy_sduicol,_B, "sduicol1", "sduicol1",u('#sduirow1'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Caption": "","CenterChildren": false,"Columns": "","DesignMode": false,"Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "SDUIRow1","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","Shrink": false,"Size": "6","Sizes": "xs=?; sm=12; md=?; lg=?; xl=?","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 20,"B4XTop": 20,"B4XWidth": 220,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__42c=BANC( banano_sithasodaisy_sduicol,_B, "sduicol2", "sduicol2",u('#sduirow1'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Caption": "","CenterChildren": false,"Columns": "","DesignMode": false,"Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "SDUIRow1","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","Shrink": false,"Size": "6","Sizes": "xs=?; sm=12; md=?; lg=?; xl=?","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 250,"B4XTop": 20,"B4XWidth": 170,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__42a=BANC( banano_sithasodaisy_sduitable,_B, "pbsource", "pbsource",u('#sduicol1'), {"BadgesOutlined": false,"BadgesSize": "xs","ButtonSize": "sm","ButtonsOutlined": false,"ComponentSize": "sm","ExcelTitle": "Table","ExportToCsv": false,"ExportToPdf": false,"ExportToXls": false,"FontSize": "11","HasAddnew": false,"HasBack": false,"HasClone": false,"HasDelete": false,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": false,"HasMenu": false,"HasRefresh": false,"HasSaveSingle": true,"HasSearch": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": false,"IsNormal": false,"IsZebra": false,"ItemsPerPage": "5","LowerCase": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","NormalCase": false,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": false,"ParentID": "SDUICol1","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","SearchSize": "md","SelectAll": false,"TableType": "property","Title": "Source Database","TitleVisible": true,"Unit": "pt","Visible": true,"B4XLeft": 30,"B4XTop": 30,"B4XWidth": 200,"B4XHeight": 80,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__42f=BANC( banano_sithasodaisy_sduitable,_B, "pbtarget", "pbtarget",u('#sduicol2'), {"BadgesOutlined": false,"BadgesSize": "xs","ButtonSize": "sm","ButtonsOutlined": false,"ComponentSize": "sm","ExcelTitle": "Table","ExportToCsv": false,"ExportToPdf": false,"ExportToXls": false,"FontSize": "11","HasAddnew": false,"HasBack": false,"HasClone": false,"HasDelete": false,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": false,"HasMenu": false,"HasRefresh": false,"HasSaveSingle": true,"HasSearch": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": false,"IsNormal": false,"IsZebra": false,"ItemsPerPage": "5","LowerCase": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","NormalCase": false,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": false,"ParentID": "SDUICol2","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","SearchSize": "md","SelectAll": false,"TableType": "property","Title": "Target Database","TitleVisible": true,"Unit": "pt","Visible": true,"B4XLeft": 260,"B4XTop": 30,"B4XWidth": 150,"B4XHeight": 80,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__85c=BANC( banano_sithasodaisy_sduirow,_B, "sduirow2", "sduirow2",u('#page'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Columns": "","Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "sync","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 10,"B4XTop": 140,"B4XWidth": 580,"B4XHeight": 120,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__42d=BANC( banano_sithasodaisy_sduicol,_B, "sduicol3", "sduicol3",u('#sduirow2'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Caption": "","CenterChildren": false,"Columns": "","DesignMode": false,"Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "SDUIRow2","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","Shrink": false,"Size": "12","Sizes": "xs=?; sm=12; md=?; lg=?; xl=?","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 20,"B4XTop": 150,"B4XWidth": 560,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__430=BANC( banano_sithasodaisy_sduitable,_B, "tblcollections", "tblcollections",u('#sduicol3'), {"BadgesOutlined": false,"BadgesSize": "sm","ButtonSize": "sm","ButtonsOutlined": false,"ComponentSize": "sm","ExcelTitle": "Table","ExportToCsv": false,"ExportToPdf": false,"ExportToXls": false,"FontSize": "11","HasAddnew": false,"HasBack": false,"HasClone": false,"HasDelete": false,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": false,"HasMenu": false,"HasRefresh": false,"HasSaveSingle": true,"HasSearch": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": true,"IsNormal": true,"IsZebra": false,"ItemsPerPage": "1000","LowerCase": false,"MarginAXYTBLR": "a=?; x=2; y=?; t=2; b=?; l=?; r=?","NormalCase": true,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": false,"ParentID": "SDUICol3","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","SearchSize": "sm","SelectAll": false,"TableType": "card","Title": "Sync Collections","TitleVisible": true,"Unit": "pt","Visible": true,"B4XLeft": 30,"B4XTop": 160,"B4XWidth": 540,"B4XHeight": 80,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sithasodaisypocketbasesync() {var _B;this.__434="sdpocketbasesync";this.__435="SithasoDaisy PocketBase Sync";this.__436="C:\laragon\www";this.__437="0.01";this.__438="";this.banano_ready=function() {if (_B==null) _B=this;_banano_sithasodaisypocketbasesync_pgindex.initialize();};}function banano_sithasodaisy_rolldateoptions() {var _B=this;_B.__e3="";_B.__e4=0;_B.__e5=0;_B.__e6="";_B.__e7="";_B.__e8="";_B.__e9="";_B.__ea="";_B.__eb="";_B.__ec="";_B.__ed="";_B.__ee="";_B.__ef="";_B.__f0=0;_B.initialize=function() {};}function banano_sithasodaisy_profiletype() {var _B=this;_B._id="";_B.__f7="";_B.__f8=false;_B.__f9="";_B.__fa="";_B.__fb="";_B.__fc="";_B.__fd=0;_B.initialize=function() {};}function banano_sithasodaisy_tablemodel() {var _B=this;_B.__11d="";_B.__1f="";_B.__11e="";_B.__11f=[];_B.initialize=function() {};}function banano_sithasodaisy_fieldmodel() {var _B=this;_B.__120="";_B.__121="";_B.initialize=function() {};}function banano_sithasodaisy_gridrow() {var _B=this;_B._rows=0;_B.__1ed=[];_B._gma="";_B._gmx="";_B._gmy="";_B._gmt="";_B._gmb="";_B._gmr="";_B._gml="";_B._gpa="";_B._gpx="";_B._gpy="";_B._gpt="";_B._gpb="";_B._gpr="";_B._gpl="";_B.initialize=function() {};}function banano_sithasodaisy_gridcolumn() {var _B=this;_B.__1ed=0;_B._gxs="";_B._gsm="";_B._gmd="";_B._glg="";_B._gxl="";_B._ofxs="";_B._ofsm="";_B._ofmd="";_B._oflg="";_B._ofxl="";_B._gma="";_B._gmx="";_B._gmy="";_B._gmt="";_B._gmb="";_B._gmr="";_B._gml="";_B._gpa="";_B._gpx="";_B._gpy="";_B._gpt="";_B._gpb="";_B._gpr="";_B._gpl="";_B.initialize=function() {};}function banano_sithasodaisy_prefitem() {var _B=this;_B._r=0;_B._c=0;_B.__e7={};_B.__231="";_B.__232={};_B._key="";_B.__234=false;_B.__235=false;_B.__236=false;_B.__237=false;_B.__2f={};_B.__238="";_B.__239="";_B.__e6={};_B.initialize=function() {};}function banano_sithasodaisy_fileobject() {var _B=this;_B.__344="";_B.__345="";_B.__346=0;_B.__347="";_B.__27a="";_B.__348="";_B.__349="";_B.__34a=false;_B._fo=null;_B.initialize=function() {};}function banano_sithasodaisy_paginate() {var _B=this;_B.__34d=0;_B.__34e=0;_B.__34f=0;_B.__16f=[];_B.initialize=function() {};}function banano_sithasodaisy_storagequota() {var _B=this;_B.__351=0;_B.__352=0;_B.__353=0;_B.__354=0;_B.initialize=function() {};}function banano_sithasodaisy_tabledescription() {var _B=this;_B.__11d="";_B.__1f="";_B.__11e="";_B.__11f=[];_B.__356=[];_B.__357=[];_B.__358=[];_B.__359=[];_B.__35a=[];_B.__35b=[];_B.__35c=[];_B.__35d=[];_B.initialize=function() {};}function banano_sithasodaisy_tablecolumn() {var _B=this;_B.__f7="";_B.__e7="";_B.__380="";_B.__fd="";_B.__381="";_B.__382="";_B.__50="";_B.__239="";_B.__383="";_B.__237=false;_B.__384=0;_B.__385="";_B._mask="";_B.__386="";_B.__387="";_B.__388="";_B.__389="";_B.__38a=[];_B.__2f={};_B.__38b=false;_B._rows=0;_B.__38c="";_B.__38d="";_B.__38e=false;_B.__38f=false;_B.__390=false;_B.__391="";_B.__392="";_B.__393="";_B.__394="";_B.__395="";_B.__396="";_B.__397="";_B.__398=0;_B.__399=0;_B.__39a=false;_B.__39b="";_B.__39c="";_B.__235=false;_B.__39d="";_B.__39e="";_B.__39f="";_B.__3a0="";_B.__3a1="";_B.__3a2="";_B.initialize=function() {};}window.addEventListener('online', function() {if (typeof _banano_sithasodaisypocketbasesync['banano_online']==="function") {_banano_sithasodaisypocketbasesync.banano_online();}});window.addEventListener('offline', function() {if (typeof _banano_sithasodaisypocketbasesync['banano_offline']==="function") {_banano_sithasodaisypocketbasesync.banano_offline();}});var BANversion=1691956071006;window.document.addEventListener("readystatechange", BANLoadChecker, true);function BANLoadChecker() {if (window.document.readyState=="complete") {_banano_sithasodaisypocketbasesync.banano_ready();}}var hidden, visibilityChange;if (typeof document.hidden !== "undefined") {hidden = "hidden";visibilityChange = "visibilitychange";} else if (typeof document.msHidden !== "undefined") {hidden = "msHidden";visibilityChange = "msvisibilitychange";} else if (typeof document.webkitHidden !== "undefined") {hidden = "webkitHidden";visibilityChange = "webkitvisibilitychange";}function handleVisibilityChange() {if (document[hidden]) {if (typeof _banano_sithasodaisypocketbasesync['banano_visibilitychanged']==="function") {_banano_sithasodaisypocketbasesync.banano_visibilitychanged(false);}} else {if (typeof _banano_sithasodaisypocketbasesync['banano_visibilitychanged']==="function") {_banano_sithasodaisypocketbasesync.banano_visibilitychanged(true);}}};if (typeof document.addEventListener === "undefined" || hidden === undefined) {console.log("This requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.");} else {document.addEventListener(visibilityChange, handleVisibilityChange, false);}window.addEventListener('resize', function(event) {if (typeof _banano_sithasodaisypocketbasesync['banano_resized']==="function") {_banano_sithasodaisypocketbasesync.banano_resized();}}, true);