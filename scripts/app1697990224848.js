var _banano_sithasodaisypocketbasesync=new banano_sithasodaisypocketbasesync();var _banano_sithasodaisy_sduishared=new banano_sithasodaisy_sduishared();var _banano_sithasodaisypocketbasesync_modsdpb=new banano_sithasodaisypocketbasesync_modsdpb();var _banano_sithasodaisypocketbasesync_pgindex=new banano_sithasodaisypocketbasesync_pgindex();var _banano_sithasodaisypocketbasesync_pgsync=new banano_sithasodaisypocketbasesync_pgsync();
/* App */
function banano_sithasodaisypocketbasesync_modsdpb() {var _B;this.__49d="http://127.0.0.1:8090";}function banano_sithasodaisypocketbasesync_pgindex() {var _B;this._app= new banano_sithasodaisy_sduiapp();this.__4a4="";this.initialize=async function() {if (_B==null) _B=this;var __905;_B._app.addapp(_B,_banano_sithasodaisypocketbasesync.__4b1);await _B._app.usespocketbase();await _B._app.usesenjoyhint();_B._app.setfont("font-sans");this.baselayout(_B._app.gethere());_B.__4a4="" + _banano_sithasodaisypocketbasesync.__4b1 + "_theme";__905=localStorage.getItem(_B.__4a4);__905=_banano_sithasodaisy_sduishared.cstr(__905);switch ("" + __905) {case "" + "":case "" + _B._app.__e1:_B._app.settheme(_B._app.__e1);_B.__4a0.setchecked(false);break;case "" + _B._app.__e2:_B.__4a0.setchecked(true);_B._app.settheme(_B._app.__e2);break;}_B.__49f._app=_B._app;_B.__49e.settitlecaption(_banano_sithasodaisypocketbasesync.__4b2);_B.createdrawermenu(_B);_B.addpages(_B);_B.isauthenticated(true,_B);_B.updateusername("Anele 'Mashy' Mbanga",_B);_B.updateuseravatar("./assets/mashy.jpg",_B);_B._app.pageresume();_banano_sithasodaisypocketbasesync_pgsync.show(_B._app);};this.addpages=function() {if (_B==null) _B=this;};this.createdrawermenu=function() {if (_B==null) _B=this;_B.__49f.clear("");_B.__49f.additempage(_banano_sithasodaisypocketbasesync_pgsync);};this.appdrawer_menu_click=function(_item) {if (_B==null) _B=this;_B.__49f.close();if (_B._app.showpage(_item)) { return ;}};this.appnavbar_menu_click=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B._app.showswal("Menu Click!");};this.btnlogoff_click=function(_e) {if (_B==null) _B=this;_e.preventDefault();_B.isauthenticated(false,_B);};this.isauthenticated=function(_b) {if (_B==null) _B=this;if (_b) {_B.__49f.show();_B.__49f.adjustclippedleft(true);_B.__49e.show();} else {_B.__49f.adjustclippedleft(false);_B.__49f.hide();_B.__49e.hide();}};this.updateusername=function(_s) {if (_B==null) _B=this;_B.__4a2.setcaption(_s);};this.updateuseravatar=function(_s) {if (_B==null) _B=this;_B.__4a3.setsrc(_s);};this.swaptheme_change=function(__907) {if (_B==null) _B=this;switch ("" + __907) {case "" + true:_B._app.settheme(_B._app.__e2);localStorage.setItem(_B.__4a4,_B._app.__e2);break;case "" + false:_B._app.settheme(_B._app.__e1);localStorage.setItem(_B.__4a4,_B._app.__e1);break;}};this.btnhelp_click=function(_e) {if (_B==null) _B=this;var _help;_help= new banano_sithasodaisyenjoyhint_sduienjoyhint();_help.initialize();_help.addstep("pbSource","Here you specify the details of the source database to sync from.");_help.addstep("pbsource_url_row","Enter the pocketbase source database url here.");_help.addstep("pbsource_email_row","Enter the pocketbase administrator email address here.");_help.addstep("pbsource_password_row","Enter the pocketbase administrator password here.");_help.addstep("pbsource_prefix_row","Enter the pocketbase collection prefix to filter collections here. <br> Leave blank for all collections");_help.addstep("pbsource_savesingle_indicator","Click here to extract and source database collections.");_help.addstep("pbsource_btndownload_indicator","Click here to download the source database schema.");_help.addstep("pbsource_btnswap_indicator","Swap the source & target connection parameters.");_help.addstep("pbTarget","Here you specify the details of the target database to sync to.");_help.addstep("pbTarget_url_row","Enter the pocketbase target database url here.");_help.addstep("pbTarget_email_row","Enter the pocketbase administrator email address here.");_help.addstep("pbTarget_password_row","Enter the pocketbase administrator password here.");_help.addstep("pbTarget_prefix_row","Enter the pocketbase collection prefix to filter collections here. <br> Leave blank for all collections");_help.addstep("pbTarget_savesingle_indicator","Click here to extract and target database collections.");_help.addstep("tblcollections_btnallschema_indicator","Click here to select all collections schemas to sync. <br> You can also just check the collection schema to sync");_help.addstep("tblcollections_btnalldata_indicator","Click here to select all collections data to sync. <br> You can also just check the data to sync");_help.addstep("tblcollections_savesingle_indicator","Click here to sync the source to target collections.");_help.run(_B);};this.baselayout=function(Par) {_B.__49e=BANC( banano_sithasodaisy_sduinavbar,_B, "appnavbar", "appnavbar",u(Par), {"AvatarSize": "12","BgColor": "blue","BgColorIntensity": "500","Fixed": true,"HasHamburger": true,"HasHamburgerOnSmallOnly": false,"HasHamburgerToggles": "appdrawer","HasLogo": true,"HasMenuButton": false,"HasSpacer": true,"LogoHeight": "","LogoIsAvatar": true,"LogoLazy": false,"LogoShape": "squircle","LogoURL": "./assets/600by600.jpg","LogoWidth": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "body","RawAttributes": "","RawClasses": "","RawStyles": "","RoundedBox": false,"Shadow": true,"TextColor": "white","TextColorIntensity": "","Title": "Sithaso Drawer","Visible": true,"B4XLeft": 0,"B4XTop": 0,"B4XWidth": 600,"B4XHeight": 70,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a2=BANC( banano_sithasodaisy_sduilabel,_B, "lblusername", "lblusername",u('#appnavbar'), {"ActiveBgColor": "","ActiveTextColor": "","BgColor": "","BgColorIntensity": "","Caption": "{{username}}","CustomTag": "","DecorationColor": "","DecorationColorIntensity": "","DecorationStyle": "none","Flex": false,"FocusBgColor": "","FontWeight": "none","ForE": "","Height": "","HoverBgColor": "","Italic": false,"LoremIpsum": false,"MarginAXYTBLR": "a=?; x=2; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","Raw": "","RawAttributes": "","RawClasses": "","RawStyles": "","Size": "p","TextAlign": "none","TextColor": "","TextColorIntensity": "","TextDecoration": "none","TextOverflow": "none","TextSize": "","TextTransform": "none","VerticalAlign": "none","Visible": true,"WhiteSpace": "none","Width": "","WordBreak": "none","B4XLeft": 170,"B4XTop": 10,"B4XWidth": 100,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a3=BANC( banano_sithasodaisy_sduiavatar,_B, "useravatar", "useravatar",u('#appnavbar'), {"AvatarGroup": false,"BadgeColor": "none","BadgeOutline": false,"BadgeValue": "","BadgeVisible": false,"BgColor": "","BgColorIntensity": "","ImageUrl": "./assets/daisywoman1.jpg","LazyLoad": true,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=2","OnlineColor": "","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","PlaceHolder": "","RawAttributes": "","RawClasses": "","RawStyles": "","Ring": false,"RingColor": "","RingColorIntensity": "","RingOffset": "","RingOffsetColor": "","RingOffsetColorIntensity": "","Shadow": false,"Shape": "circle","Size": "10","Status": "none","TextColor": "","TextColorIntensity": "","TextSize": "","Visible": true,"B4XLeft": 280,"B4XTop": 10,"B4XWidth": 50,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a0=BANC( banano_sithasodaisy_sduiswap,_B, "swaptheme", "swaptheme",u('#appnavbar'), {"BgColor": "","BgColorIntensity": "","Effect": "rotate","InputType": "icon","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=2","OffValue": "fa-regular fa-moon","OnValue": "fa-solid fa-moon","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","RawAttributes": "","RawClasses": "","RawStyles": "","Size": "3xl","Visible": true,"B4XLeft": 340,"B4XTop": 10,"B4XWidth": 50,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a5=BANC( banano_sithasodaisy_sduibutton,_B, "btnhelp", "btnhelp",u('#appnavbar'), {"Active": false,"Badge": "5","BadgeColor": "secondary","BadgeOutline": false,"BadgeVisible": false,"BgColor": "","BgColorIntensity": "","Block": false,"ButtonType": "button-icon","Caption": "Help","Disabled": false,"HoverColor": "primary","IconName": "fa-solid fa-question","IsTemplate": false,"Loading": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","NoAnimation": false,"NoBadge": false,"NoIcons": false,"NormalCase": false,"Outline": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","RawAttributes": "","RawClasses": "","RawStyles": "","RightIcon": "","Shadow": false,"Shape": "circle","Size": "sm","TextColor": "","TextColorIntensity": "","Variant": "primary","Visible": true,"Wide": false,"B4XLeft": 430,"B4XTop": 10,"B4XWidth": 100,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a1=BANC( banano_sithasodaisy_sduibutton,_B, "btnlogoff", "btnlogoff",u('#appnavbar'), {"Active": false,"Badge": "","BadgeColor": "secondary","BadgeOutline": false,"BadgeVisible": false,"BgColor": "","BgColorIntensity": "","Block": false,"ButtonType": "button-icon","Caption": "Button","Disabled": false,"HoverColor": "none","IconName": "fa-solid fa-power-off","IsTemplate": false,"Loading": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=2","NoAnimation": false,"NoBadge": false,"NoIcons": false,"NormalCase": false,"Outline": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "appnavbar","RawAttributes": "","RawClasses": "","RawStyles": "","RightIcon": "","Shadow": false,"Shape": "circle","Size": "xs","TextColor": "white","TextColorIntensity": "","Variant": "error","Visible": false,"Wide": false,"B4XLeft": 540,"B4XTop": 10,"B4XWidth": 50,"B4XHeight": 50,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__49f=BANC( banano_sithasodaisy_sduidrawer,_B, "appdrawer", "appdrawer",u(Par), {"AtRight": false,"BgColor": "","BgColorIntensity": "","ClippedLeft": true,"HasBottomNav": false,"HasFooter": false,"HasNavbar": false,"Height": "full","ItemActiveColor": "blue","ItemActiveColorIntensity": "100","ItemColor": "blue","ItemColorIntensity": "100","ItemFocusColor": "blue","ItemFocusColorIntensity": "100","ItemHoverColor": "blue","ItemHoverColorIntensity": "100","LogoVisible": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","Mobile": false,"OverlayTransparent": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageViewFullHeight": true,"PageViewFullWidth": true,"ParentID": "body","RawAttributes": "","RawClasses": "","RawStyles": "","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "80","B4XLeft": 0,"B4XTop": 70,"B4XWidth": 190,"B4XHeight": 530,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sithasodaisypocketbasesync_pgsync() {var _B;this.__b9="sync";this.__a9="Sync PocketBase";this.__9="fa-solid fa-swatchbook";this._app= new banano_sithasodaisy_sduiapp();this.__4ae=[];this.__4af=[];this.__4b0={};this.show=function(__906) {if (_B==null) _B=this;_B._app=__906;_B.buildpage(_B);};this.getname=function() {if (_B==null) _B=this;return _B.__b9;};this.geticon=function() {if (_B==null) _B=this;return _B.__9;};this.gettitle=function() {if (_B==null) _B=this;return _B.__a9;};this.buildpage=async function() {if (_B==null) _B=this;var __90a,_bag,__90c;this.synclayout(_B._app.__b6);_B.__4a7.settitle("Source");await _B.__4a7.loadpropertybagfromjson("./assets/source.json");_B.__4a7.setpropertyvisible("doschema",false);_B.__4a7.setpropertyvisible("dodata",false);_B.__4a7.addtoolbaractionbuttonicon("btnDownload","fa-solid fa-download","#f6abb6");_B.__4a7.settoolbarbuttonenable("btnDownload",false);_B.__4a7.settoolbarbuttontooltip("savesingle","Extract Source Database Schema","primary","left",true);_B.__4a7.settoolbarbuttontooltip("btnDownload","Download Source Database Schema","primary","left",true);_B.__4a7.addtoolbaractionbuttonicon("btnSwap","fa-solid fa-right-left","#2ab7ca");_B.__4a7.settoolbarbuttontooltip("btnSwap","Swap the connection parameters","primary","left",true);_B.__4a7.setpropertypadding("py-2");_B.__4a7.setpropertybagdefaults();_B.__4a7.settoolbarbuttonbadgeround("savesingle");_B.__4a7.settoolbarbuttonbadge("savesingle",0);_B.__4a7.setpropertyvalue("url","http://127.0.0.1:8090");__90a=localStorage.getItem("sdpocketbasesyncsource");__90a=_banano_sithasodaisy_sduishared.cstr(__90a);if (__90a!="") {_bag=JSON.parse(__90a);_B.__4a7.setpropertybag(_bag);}_B.__4ac.settitle("Target");await _B.__4ac.loadpropertybagfromjson("./assets/target.json");_B.__4ac.setpropertyvisible("doschema",false);_B.__4ac.setpropertyvisible("dodata",false);_B.__4ac.settoolbarbuttontooltip("savesingle","Extract Target Database Schema","primary","left",true);_B.__4ac.setpropertypadding("py-2");_B.__4ac.setpropertybagdefaults();_B.__4ac.settoolbarbuttonbadgeround("savesingle");_B.__4ac.settoolbarbuttonbadge("savesingle",0);_B.__4ac.setpropertyvalue("url","https://sourceDB.pockethost.io");__90c=localStorage.getItem("sdpocketbasesynctarget");__90c=_banano_sithasodaisy_sduishared.cstr(__90c);if (__90c!="") {_bag=JSON.parse(__90c);_B.__4ac.setpropertybag(_bag);}_B.__4ad.addtoolbaractionbuttonicon("btnAllSchema","fa-regular fa-square-check","#f6abb6");_B.__4ad.addtoolbaractionbuttonicon("btnAllData","fa-regular fa-circle-check","#005b96");_B.__4ad.settoolbarbuttonenable("btnAllSchema",false);_B.__4ad.settoolbarbuttonenable("btnAllData",false);_B.__4ad.settoolbarbuttontooltip("btnAllSchema","Check all collection schemas","primary","left",true);_B.__4ad.settoolbarbuttontooltip("btnAllData","Check all collection data","primary","left",true);_B.__4ad.settoolbarbuttontooltip("savesingle","Sync selected Schema & Data","primary","left",true);_B.__4ad.addcolumn("name","Name");_B.__4ad.setcolumncomputecolor("name","ComputeNameColor");_B.__4ad.addcolumn("typeof","Type Of");_B.__4ad.addcolumn("stfields","Source Fields");_B.__4ad.setcolumncomputecolor("stfields","ComputeTextColor");_B.__4ad.addcolumn("ttfields","Target Fields");_B.__4ad.setcolumncomputecolor("ttfields","ComputeTextColor");_B.__4ad.addcolumn("records","Records");_B.__4ad.addcolumn("written","Synced");_B.__4ad.addcolumncheckbox("active","Schema",_B._app.__6d,false);_B.__4ad.addcolumncheckbox("activedata","Data",_B._app.__6d,false);};this.pbsource_btnswap=function(_e) {if (_B==null) _B=this;var __90d,_sbag,_tbag;_e.preventDefault();__90d=_B.__4a7.ispropertybagvalid();if (__90d==false) {_B._app.showswalerrortoast("Please specify all required information for the Source Database!",1000);return;}__90d=_B.__4ac.ispropertybagvalid();if (__90d==false) {_B._app.showswalerrortoast("Please specify all required information for the Target Database!",1000);return;}_sbag=_B.__4a7.getpropertybag();_tbag=_B.__4ac.getpropertybag();_B.__4a7.setpropertybag(_tbag);_B.__4ac.setpropertybag(_sbag);};this.pbsource_btndownload=function(_e) {if (_B==null) _B=this;var __910,_collection,__903,__904;_e.preventDefault();__910=[];__910.length=0;for (_collectionKEY in _B.__4b0) {var _collection=_B.__4b0[_collectionKEY];__910.push(_collection);}__903=JSON.stringify(__910);__904="source_schema.json";_banano_sithasodaisy_sduishared.download(__903,__904);};this.computenamecolor=function(_item) {if (_B==null) _B=this;var __911;__911=_item["status"];switch ("" + __911) {case "" + "match":return "#00FF00";case "" + "insource":return "#FF0000";case "" + "intarget":return "#FFA500";}};this.computetextcolor=function(_item) {if (_B==null) _B=this;var __912,__913;__912=_item["stfields"];__913=_item["ttfields"];if (__913==__912) {return "#00FF00";} else {return "#FF0000";}};this.pbsource_savesingle=async function(_e) {if (_B==null) _B=this;var __90d,_bag,_surl,__8f2,__8f3,__28f,__914,__915,_spb,__8f7,_rec,__902,__917;_e.preventDefault();__90d=_B.__4a7.ispropertybagvalid();if (__90d==false) {_B._app.showswalerrortoast("Please specify all required information for the Source Database!",1000);return;}_bag=_B.__4a7.getpropertybag();_surl=_bag["url"];__8f2=_bag["email"];__8f3=_bag["password"];__28f=_bag["prefix"];__914=_banano_sithasodaisy_sduishared.cbool(_bag["doschema"]);__915=_banano_sithasodaisy_sduishared.cbool(_bag["dodata"]);localStorage.setItem("sdpocketbasesyncsource",JSON.stringify(_bag));_B._app.pagepause();_spb= new banano_sithasodaisypocketbase_sduipocketbase();_spb.initialize(_B,"source",_surl,"");await _spb.admin_auth_with_password(__8f2,__8f3);__8f7=_spb._userprofile;if (__8f7.__bf==0) {_B._app.pageresume();_B._app.showswalerror("The connection paramaters are invalid!");return;}_B.__4ae.length=0;await _spb.select_all_collections();if (__28f!="") {while (_spb.nextrow()) {_rec=_spb.__2e7;__902=_spb.getstring("name");if (__902.startsWith(__28f)) {_B.__4ae.push(_rec);}}} else {_B.__4ae=_spb.__2e8;}_B.__4a7.settoolbarbuttonbadge("savesingle",_B.__4ae.length);__917=JSON.stringify(_B.__4ae);localStorage.setItem("sdsync_source",__917);_B._app.pageresume();_B._app.showswalinfotoast("Source Database has " + _B.__4ae.length + " collections!",2000);};this.pbsource_changepropertybag=function(_item) {if (_B==null) _B=this;};this.sourcetree_selectnode=function(_id) {if (_B==null) _B=this;};this.targettree_selectnode=function(_id) {if (_B==null) _B=this;};this.pbtarget_savesingle=async function(_e) {if (_B==null) _B=this;var __90d,_bag,_surl,__8f2,__8f3,__28f,__914,__915,_spb,__8f7,_rec,__902,__918;_e.preventDefault();__90d=_B.__4ac.ispropertybagvalid();if (__90d==false) {_B._app.showswalerrortoast("Please specify all required information fo the Target Database!",1000);return;}_B.__4a7.settoolbarbuttonenable("btnDownload",true);_B.__4ad.settoolbarbuttonenable("btnAllSchema",true);_B.__4ad.settoolbarbuttonenable("btnAllData",true);_bag=_B.__4ac.getpropertybag();_surl=_bag["url"];__8f2=_bag["email"];__8f3=_bag["password"];__28f=_bag["prefix"];__914=_banano_sithasodaisy_sduishared.cbool(_bag["doschema"]);__915=_banano_sithasodaisy_sduishared.cbool(_bag["dodata"]);localStorage.setItem("sdpocketbasesynctarget",JSON.stringify(_bag));_B._app.pagepause();_spb= new banano_sithasodaisypocketbase_sduipocketbase();_spb.initialize(_B,"target",_surl,"");await _spb.admin_auth_with_password(__8f2,__8f3);__8f7=_spb._userprofile;if (__8f7.__bf==0) {_B._app.pageresume();_B._app.showswalerror("The connection paramaters are invalid!");return;}_B.__4af.length=0;await _spb.select_all_collections();if (__28f!="") {while (_spb.nextrow()) {_rec=_spb.__2e7;__902=_spb.getstring("name");if (__902.startsWith(__28f)) {_B.__4af.push(_rec);}}} else {_B.__4af=_spb.__2e8;}_B.__4ac.settoolbarbuttonbadge("savesingle",_B.__4af.length);__918=JSON.stringify(_B.__4af);localStorage.setItem("sdsync_target",__918);_B._app.pageresume();_B._app.showswalinfotoast("Target Database has " + _B.__4af.length + " collections!",2000);await _B.loadsoucetables(_B);};this.loadsoucetables=async function() {if (_B==null) _B=this;var _tcol,_col1,_sid1,__91b,__91c,__91d,__91e,_col,_sid,__58c,__91f,__418,_ftot,_nrow,__14f,_item;_B._app.pagepause();_B.__4ad.clearrows();_B.__4b0={};_tcol={};for (var _col1index=0;_col1index<_B.__4ae.length;_col1index++) {_col1=_B.__4ae[_col1index];_sid1=_col1["id"];__91b=_col1["name"];__91c=_col1["schema"];__91d=_col1["type"];__91e={};__91e["id"]=_sid1;__91e["name"]=__91b;__91e["typeof"]=__91d;__91e["sfields"]=__91c;__91e["stfields"]=__91c.length;__91e["records"]=0;__91e["written"]=0;__91e["active"]=true;__91e["activedata"]=true;__91e["status"]="insource";_tcol[__91b]=__91e;_B.__4b0[__91b]=_col1;}for (var _colindex=0;_colindex<_B.__4af.length;_colindex++) {_col=_B.__4af[_colindex];_sid=_col["id"];__58c=_col["name"];__91f=_col["schema"];__418=_col["type"];_ftot=__91f.length;_nrow={};if ((__58c in _tcol)) {_nrow=_tcol[__58c];_nrow["status"]="match";_nrow["tfields"]=__91f;_nrow["ttfields"]=__91f.length;_nrow["active"]=false;_nrow["activedata"]=false;if (_nrow["stfields"]!=_nrow["ttfields"]) {_nrow["active"]=true;}_tcol[__58c]=_nrow;} else {_nrow["id"]=_sid;_nrow["name"]=__58c;_nrow["typeof"]=__418;__91e["tfields"]=__91f;__91e["ttfields"]=__91f.length;__91e["records"]=0;__91e["written"]=0;__91e["active"]=false;__91e["activedata"]=false;__91e["status"]="intarget";_tcol[__91b]=__91e;}}__14f=[];__14f.length=0;for (_itemKEY in _tcol) {var _item=_tcol[_itemKEY];__14f.push(_item);}await _B.__4ad.setitems(__14f);_B._app.pageresume();};this.pbsource_password_append_click=function(__4e5) {if (_B==null) _B=this;__4e5.preventDefault();_B.__4a7.setpropertytoggleeyes("password");};this.pbtarget_password_append_click=function(__4e5) {if (_B==null) _B=this;__4e5.preventDefault();_B.__4ac.setpropertytoggleeyes("password");};this.tblcollections_changerow=function(_row,__a8,__62e,_item) {if (_B==null) _B=this;_item[__62e]=__a8;_B.__4ad.updaterow(_row,_item);};this.tblcollections_btnallschema=function(_e) {if (_B==null) _B=this;var _rows,_rtot,_rcnt;_e.preventDefault();_B._app.pagepause();_rows=_B.__4ad._rows;_rtot=_rows.length-1;_rcnt=0;for (_rcnt=0;_rcnt<=_rtot;_rcnt++) {_B.__4ad.setrowcolumn("active",_rcnt,true);}_B._app.pageresume();};this.tblcollections_btnalldata=function(_e) {if (_B==null) _B=this;var _rows,_rtot,_rcnt;_e.preventDefault();_B._app.pagepause();_rows=_B.__4ad._rows;_rtot=_rows.length-1;_rcnt=0;for (_rcnt=0;_rcnt<=_rtot;_rcnt++) {_B.__4ad.setrowcolumn("activedata",_rcnt,true);}_B._app.pageresume();};this.tblcollections_savesingle=async function(_e) {if (_B==null) _B=this;var __922,__923,__924,__925,__926,__927,_bag,_surl,__8f2,__8f3,_rows,_rtot,_rcnt,_col,__11d,__928,__929,__58c,__2fa,_coll,__8f6,__2e8,_tpb,__92c,_tkey,_recs,__92d,__92e,_rec,_nid,_rpos;_e.preventDefault();_B._app.pagepause();__922=[];__922.length=0;__923=[];__923.length=0;__924={};__925={};__926=_B.__4a7.getpropertyvalue("url");__927=_B.__4ac.getpropertyvalue("url");_bag=_B.__4ac.getpropertybag();_surl=_bag["url"];__8f2=_bag["email"];__8f3=_bag["password"];_rows=_B.__4ad._rows;_rtot=_rows.length-1;_rcnt=0;for (_rcnt=0;_rcnt<=_rtot;_rcnt++) {_col=_rows[_rcnt];__11d=_col["status"];__928=_banano_sithasodaisy_sduishared.cbool(_col["active"]);__929=_banano_sithasodaisy_sduishared.cbool(_col["activedata"]);__58c=_col["name"];__2fa=_col["typeof"];switch ("" + __11d) {case "" + "match":if (__928) {_coll=_B.__4b0[__58c];__923.push(_coll);}if (__929 && __2fa!="view") {__8f6= new banano_sithasodaisypocketbase_sduipocketbase();__8f6.initialize(_B,"sourceDB",__926,__58c);await __8f6.select_all();__2e8=__8f6.__2e8;__924[__58c]=__2e8;await _B.__4ad.setrowcolumn("records",_rcnt,_banano_sithasodaisy_sduishared.thousands(__2e8.length));__925[__58c]="";}break;case "" + "insource":if (__928) {_coll=_B.__4b0[__58c];__922.push(_coll);}if (__929 && __2fa!="view") {__8f6= new banano_sithasodaisypocketbase_sduipocketbase();__8f6.initialize(_B,"sourceDB",__926,__58c);await __8f6.select_all();__2e8=__8f6.__2e8;__924[__58c]=__2e8;await _B.__4ad.setrowcolumn("records",_rcnt,_banano_sithasodaisy_sduishared.thousands(__2e8.length));}break;}}if (__922.length>0) {_B._app.showswalinfotoast("" + __922.length + " collections will be added!",2000);_tpb= new banano_sithasodaisypocketbase_sduipocketbase();_tpb.initialize(_B,"target",_surl,"");__92c=await _tpb.schemaadd(_surl,__8f2,__8f3,__922);if (__92c) {_B._app.showswalsuccesstoast("The schema for the new collections was created successfully!",2000);} else {_B._app.showswalerrortoast("The schema for the new collections was NOT created successfully!",2000);}}if (__923.length>0) {_B._app.showswalinfotoast("" + __923.length + " collections will be updated!",2000);_tpb= new banano_sithasodaisypocketbase_sduipocketbase();_tpb.initialize(_B,"target",_surl,"");__92c=await _tpb.schemaupdate(_surl,__8f2,__8f3,__923);if (__92c) {_B._app.showswalsuccesstoast("The schema for the existing collections was updated successfully!",2000);} else {_B._app.showswalerrortoast("The schema for the existing collections was NOT updated successfully!",2000);}}var _tkeyKeys = Object.keys(__924);for (var _tkeyindex=0;_tkeyindex<_tkeyKeys.length;_tkeyindex++) {_tkey=_tkeyKeys[_tkeyindex];_B.__4ad.settitle("Collections: Processing " + _tkey + "...");_recs=__924[_tkey];__92d= new banano_sithasodaisypocketbase_sduipocketbase();__92d.initialize(_B,"targetDB",__927,_tkey);await __8f6.admin_auth_with_password(__8f2,__8f3);__92e=[];__92e.length=0;if ((_tkey in __925)) {for (var _recindex=0;_recindex<_recs.length;_recindex++) {_rec=_recs[_recindex];_rec=__92d.getrealrecord(_rec);__92d.setrecordasis(_rec);_nid=await __92d.create_or_update();if (_nid!="") {__92e.push(_nid);_rpos=await _B.__4ad.findrowbycolumn("name",_tkey);await _B.__4ad.setrowcolumn("written",_rpos,_banano_sithasodaisy_sduishared.thousands(__92e.length));}}} else {for (var _recindex=0;_recindex<_recs.length;_recindex++) {_rec=_recs[_recindex];_rec=__92d.getrealrecord(_rec);__92d.setrecordasis(_rec);_nid=await __92d.create();if (_nid!="") {__92e.push(_nid);_rpos=await _B.__4ad.findrowbycolumn("name",_tkey);await _B.__4ad.setrowcolumn("written",_rpos,_banano_sithasodaisy_sduishared.thousands(__92e.length));}}}}_B.__4ad.settitle("Collections");_B._app.pageresume();};this.synclayout=function(Par) {u(Par).empty();_B._page=BANC( banano_sithasodaisy_sduipage,_B, "page", "page",u(Par), {"BackgroundImage": "","BgColor": "","BgColorIntensity": "","ColSpan": "","Columns": "","Container": false,"DeviceGridCols": "xs=?; sm=?; md=?; lg=?; xl=?","Flex": false,"Flex1": false,"FlexCol": false,"FlexNone": false,"FlexRow": true,"FlexWrap": false,"FullPage": false,"Gap": "","Grid": false,"GridCols": "","GridRows": "","H": "","HFull": false,"Justify": "none","JustifyItems": "none","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","MaxH": "","MaxW": "","MinH": "","MinW": "","MxAuto": false,"PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageName": "sync","ParentID": "pageview","Raw": "","RawAttributes": "","RawClasses": "","RawDescription": "My SDUIPage","RawKeywords": "page","RawStyles": "","RowSpan": "","Title": "My SDUIPage","Visible": true,"W": "","WFull": false,"B4XLeft": 0,"B4XTop": 0,"B4XWidth": 600,"B4XHeight": 600,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4ab=BANC( banano_sithasodaisy_sduirow,_B, "sduirow1", "sduirow1",u('#page'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Columns": "","DeviceGridCols": "xs=?; sm=?; md=?; lg=?; xl=?","Gap": "","Grid": false,"GridCols": "2","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "sync","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 10,"B4XTop": 10,"B4XWidth": 580,"B4XHeight": 120,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a8=BANC( banano_sithasodaisy_sduicol,_B, "sduicol1", "sduicol1",u('#sduirow1'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Caption": "","CenterChildren": false,"Columns": "","DesignMode": false,"Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "SDUIRow1","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","Shrink": false,"Size": "","Sizes": "xs=?; sm=12; md=6; lg=6; xl=6","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 20,"B4XTop": 20,"B4XWidth": 220,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a9=BANC( banano_sithasodaisy_sduicol,_B, "sduicol2", "sduicol2",u('#sduirow1'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Caption": "","CenterChildren": false,"Columns": "","DesignMode": false,"Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "SDUIRow1","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","Shrink": false,"Size": "","Sizes": "xs=?; sm=12; md=6; lg=6; xl=6","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 250,"B4XTop": 20,"B4XWidth": 170,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4a7=BANC( banano_sithasodaisy_sduitable,_B, "pbsource", "pbsource",u('#sduicol1'), {"BadgesOutlined": false,"BadgesSize": "xs","ButtonSize": "sm","ButtonsOutlined": false,"ComponentSize": "sm","ExcelTitle": "Table","ExportToCsv": false,"ExportToPdf": false,"ExportToXls": false,"FontSize": "11","HasAddnew": false,"HasBack": false,"HasClone": false,"HasDelete": false,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": false,"HasMenu": false,"HasRefresh": false,"HasSaveSingle": true,"HasSearch": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": false,"IsNormal": false,"IsZebra": false,"ItemsPerPage": "5","LowerCase": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","NormalCase": false,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": false,"ParentID": "SDUICol1","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","SearchSize": "md","SelectAll": false,"TableType": "property","Title": "Source Database","TitleVisible": true,"Unit": "pt","Visible": true,"B4XLeft": 30,"B4XTop": 30,"B4XWidth": 200,"B4XHeight": 80,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4ac=BANC( banano_sithasodaisy_sduitable,_B, "pbtarget", "pbtarget",u('#sduicol2'), {"BadgesOutlined": false,"BadgesSize": "xs","ButtonSize": "sm","ButtonsOutlined": false,"ComponentSize": "sm","ExcelTitle": "Table","ExportToCsv": false,"ExportToPdf": false,"ExportToXls": false,"FontSize": "11","HasAddnew": false,"HasBack": false,"HasClone": false,"HasDelete": false,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": false,"HasMenu": false,"HasRefresh": false,"HasSaveSingle": true,"HasSearch": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": false,"IsNormal": false,"IsZebra": false,"ItemsPerPage": "5","LowerCase": false,"MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","NormalCase": false,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": false,"ParentID": "SDUICol2","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","SearchSize": "md","SelectAll": false,"TableType": "property","Title": "Target Database","TitleVisible": true,"Unit": "pt","Visible": true,"B4XLeft": 260,"B4XTop": 30,"B4XWidth": 150,"B4XHeight": 80,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__909=BANC( banano_sithasodaisy_sduirow,_B, "sduirow2", "sduirow2",u('#page'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Columns": "","DeviceGridCols": "xs=?; sm=?; md=?; lg=?; xl=?","Gap": "","Grid": true,"GridCols": "12","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "sync","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 10,"B4XTop": 140,"B4XWidth": 580,"B4XHeight": 120,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4aa=BANC( banano_sithasodaisy_sduicol,_B, "sduicol3", "sduicol3",u('#sduirow2'), {"Absolute": false,"AlignContent": "none","AlignItems": "none","BackgroundImage": "","BgColor": "","BgColorIntensity": "","Border": "","BorderColor": "","BorderColorIntensity": "","Caption": "","CenterChildren": false,"Columns": "","DesignMode": false,"Gap": "","Height": "","Hover": "","MarginAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","ParentID": "SDUIRow2","PlaceContent": "none","PlaceItems": "none","RawAttributes": "","RawClasses": "","RawStyles": "","Relative": false,"Rounded": "","Shadow": "","Shrink": false,"Size": "12","Sizes": "xs=?; sm=12; md=?; lg=?; xl=?","TextColor": "","TextColorIntensity": "","Visible": true,"Width": "","B4XLeft": 20,"B4XTop": 150,"B4XWidth": 560,"B4XHeight": 100,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});_B.__4ad=BANC( banano_sithasodaisy_sduitable,_B, "tblcollections", "tblcollections",u('#sduicol3'), {"BadgesOutlined": false,"BadgesSize": "sm","ButtonSize": "sm","ButtonsOutlined": false,"ComponentSize": "sm","ExcelTitle": "Table","ExportToCsv": false,"ExportToPdf": false,"ExportToXls": false,"FontSize": "11","HasAddnew": false,"HasBack": false,"HasClone": false,"HasDelete": false,"HasDeleteAll": false,"HasDeleteSingle": false,"HasDownload": false,"HasEdit": false,"HasMenu": false,"HasRefresh": false,"HasSaveSingle": true,"HasSearch": false,"HasToolbarUpload": false,"HasUpload": false,"Hover": false,"IsCompact": true,"IsNormal": true,"IsZebra": false,"ItemsPerPage": "1000","LowerCase": false,"MarginAXYTBLR": "a=?; x=2; y=?; t=2; b=?; l=?; r=?","NormalCase": true,"Orientation": "landscape","PaddingAXYTBLR": "a=?; x=?; y=?; t=?; b=?; l=?; r=?","PageBreakRepeat": "","PageSize": "a4","Pagination": false,"ParentID": "SDUICol3","PdfTheme": "striped","RawAttributes": "","RawClasses": "","RawStyles": "","SearchSize": "sm","SelectAll": false,"TableType": "card","Title": "Sync Collections","TitleVisible": true,"Unit": "pt","Visible": true,"B4XLeft": 30,"B4XTop": 160,"B4XWidth": 540,"B4XHeight": 80,"B4XHAnchor": 0,"B4XVAnchor": 0,"B4XTag": "","B4XVisible": true,"B4XEnabled": true});};}function banano_sithasodaisypocketbasesync() {var _B;this.__4b1="sdpocketbasesync";this.__4b2="SithasoDaisy PocketBase Sync";this.__4b3="C:\laragon\www";this.__4b4="0.01";this.__4b5="";this.banano_ready=function() {if (_B==null) _B=this;_banano_sithasodaisypocketbasesync_pgindex.initialize();};}function banano_sithasodaisy_rolldateoptions() {var _B=this;_B.__a5="";_B.__a6=0;_B.__a7=0;_B.__a8="";_B.__a9="";_B.__aa="";_B.__ab="";_B.__ac="";_B.__ad="";_B.__ae="";_B.__af="";_B.__b0="";_B.__b1="";_B.__b2=0;_B.initialize=function() {};}function banano_sithasodaisy_profiletype() {var _B=this;_B._id="";_B.__b9="";_B.__ba=false;_B.__bb="";_B.__bc="";_B.__bd="";_B.__be="";_B.__bf=0;_B.initialize=function() {};}function banano_sithasodaisy_gridrow() {var _B=this;_B._rows=0;_B.__1cf=[];_B._gma="";_B._gmx="";_B._gmy="";_B._gmt="";_B._gmb="";_B._gmr="";_B._gml="";_B._gpa="";_B._gpx="";_B._gpy="";_B._gpt="";_B._gpb="";_B._gpr="";_B._gpl="";_B.initialize=function() {};}function banano_sithasodaisy_gridcolumn() {var _B=this;_B.__1cf=0;_B._gxs="";_B._gsm="";_B._gmd="";_B._glg="";_B._gxl="";_B._ofxs="";_B._ofsm="";_B._ofmd="";_B._oflg="";_B._ofxl="";_B._gma="";_B._gmx="";_B._gmy="";_B._gmt="";_B._gmb="";_B._gmr="";_B._gml="";_B._gpa="";_B._gpx="";_B._gpy="";_B._gpt="";_B._gpb="";_B._gpr="";_B._gpl="";_B.initialize=function() {};}function banano_sithasodaisy_prefitem() {var _B=this;_B._r=0;_B._c=0;_B.__a9={};_B.__213="";_B.__214={};_B._key="";_B.__216=false;_B.__217=false;_B.__218=false;_B.__219=false;_B.__21a={};_B.__21b="";_B.__21c="";_B.__a8={};_B.initialize=function() {};}function banano_sithasodaisy_fileobject() {var _B=this;_B.__358="";_B.__359="";_B.__35a=0;_B.__35b="";_B.__270="";_B.__35c="";_B.__35d="";_B.__35e=false;_B._fo=null;_B.__360="";_B.initialize=function() {};}function banano_sithasodaisy_paginate() {var _B=this;_B.__362=0;_B.__363=0;_B.__364=0;_B.__14f=[];_B.initialize=function() {};}function banano_sithasodaisy_storagequota() {var _B=this;_B.__366=0;_B.__367=0;_B.__368=0;_B.__369=0;_B.initialize=function() {};}function banano_sithasodaisy_tabledescription() {var _B=this;_B.__36b="";_B.__2eb="";_B.__36c="";_B.__36d=[];_B.__36e=[];_B.__36f=[];_B.__370=[];_B.__371=[];_B.__372=[];_B.__373=[];_B.__374=[];_B.__375=[];_B.initialize=function() {};}function banano_sithasodaisy_tablecolumn() {var _B=this;_B.__b9="";_B.__a9="";_B.__3a6="";_B.__bf="";_B.__3a7="";_B.__3a8="";_B.__9="";_B.__21c="";_B.__3a9="";_B.__219=false;_B.__3aa=0;_B.__3ab="";_B._mask="";_B.__3ac="";_B.__3ad="";_B.__3ae="";_B.__3af="";_B.__3b0=[];_B.__21a={};_B.__3b1=false;_B._rows=0;_B.__3b2="";_B.__3b3="";_B.__3b4=false;_B.__3b5=false;_B.__3b6=false;_B.__3b7="";_B.__3b8="";_B.__3b9="";_B.__3ba="";_B.__3bb="";_B.__3bc="";_B.__3bd="";_B.__3be=0;_B.__3bf=0;_B.__3c0=false;_B.__3c1="";_B.__3c2="";_B.__217=false;_B.__3c3="";_B.__3c4="";_B.__3c5="";_B.__3c6="";_B.__3c7="";_B.__3c8="";_B.__3c9="";_B.initialize=function() {};}function banano_sithasodaisy_storage() {var _B=this;_B.__366=0;_B.__367=0;_B.__368=0;_B.__369=0;_B.initialize=function() {};}window.addEventListener('online', function() {if (typeof _banano_sithasodaisypocketbasesync['banano_online']==="function") {_banano_sithasodaisypocketbasesync.banano_online();}});window.addEventListener('offline', function() {if (typeof _banano_sithasodaisypocketbasesync['banano_offline']==="function") {_banano_sithasodaisypocketbasesync.banano_offline();}});var BANversion=1697990245059;window.document.addEventListener("readystatechange", BANLoadChecker, true);function BANLoadChecker() {if (window.document.readyState=="complete") {_banano_sithasodaisypocketbasesync.banano_ready();}}var hidden, visibilityChange;if (typeof document.hidden !== "undefined") {hidden = "hidden";visibilityChange = "visibilitychange";} else if (typeof document.msHidden !== "undefined") {hidden = "msHidden";visibilityChange = "msvisibilitychange";} else if (typeof document.webkitHidden !== "undefined") {hidden = "webkitHidden";visibilityChange = "webkitvisibilitychange";}function handleVisibilityChange() {if (document[hidden]) {if (typeof _banano_sithasodaisypocketbasesync['banano_visibilitychanged']==="function") {_banano_sithasodaisypocketbasesync.banano_visibilitychanged(false);}} else {if (typeof _banano_sithasodaisypocketbasesync['banano_visibilitychanged']==="function") {_banano_sithasodaisypocketbasesync.banano_visibilitychanged(true);}}};if (typeof document.addEventListener === "undefined" || hidden === undefined) {console.log("This requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API.");} else {document.addEventListener(visibilityChange, handleVisibilityChange, false);}window.addEventListener('resize', function(event) {if (typeof _banano_sithasodaisypocketbasesync['banano_resized']==="function") {_banano_sithasodaisypocketbasesync.banano_resized();}}, true);